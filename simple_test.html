<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple App Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .book-card { 
            border: 1px solid #ccc; 
            padding: 15px; 
            margin: 10px; 
            cursor: pointer; 
            display: inline-block;
        }
        .book-card:hover { background: #f0f0f0; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>Simple App Test</h1>
    
    <div id="status"></div>
    
    <div id="books"></div>
    
    <div id="units" style="display: none;">
        <h3>Units:</h3>
        <div id="unitsList"></div>
        <button onclick="showBooks()">Back to Books</button>
    </div>

    <script src="data.js"></script>
    <script>
        let currentBook = null;
        
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.textContent = message;
            div.className = type;
            document.getElementById('status').appendChild(div);
        }
        
        function showBooks() {
            document.getElementById('books').style.display = 'block';
            document.getElementById('units').style.display = 'none';
            currentBook = null;
        }
        
        function showUnits(bookNum) {
            currentBook = bookNum;
            document.getElementById('books').style.display = 'none';
            document.getElementById('units').style.display = 'block';
            
            const book = vocabularyData.books[bookNum];
            const unitsList = document.getElementById('unitsList');
            unitsList.innerHTML = '';
            
            for (let i = 1; i <= 5; i++) { // Show first 5 units
                const unit = book.units[i];
                if (unit) {
                    const unitDiv = document.createElement('div');
                    unitDiv.style.border = '1px solid #ddd';
                    unitDiv.style.padding = '10px';
                    unitDiv.style.margin = '5px';
                    unitDiv.innerHTML = `
                        <h4>${unit.title}</h4>
                        <p>Words: ${unit.words.length}</p>
                        <p>Sample: ${unit.words[0].word} - ${unit.words[0].meaning}</p>
                    `;
                    unitsList.appendChild(unitDiv);
                }
            }
        }
        
        // Initialize
        window.addEventListener('load', function() {
            try {
                if (typeof vocabularyData !== 'undefined') {
                    log('✅ Data loaded successfully', 'success');
                    
                    const booksDiv = document.getElementById('books');
                    
                    // Show available books
                    Object.keys(vocabularyData.books).forEach(bookNum => {
                        const book = vocabularyData.books[bookNum];
                        if (book && book.units) {
                            const bookCard = document.createElement('div');
                            bookCard.className = 'book-card';
                            bookCard.innerHTML = `
                                <h3>Book ${bookNum}</h3>
                                <p>${book.title}</p>
                                <p>Units: ${Object.keys(book.units).length}</p>
                            `;
                            bookCard.onclick = () => showUnits(bookNum);
                            booksDiv.appendChild(bookCard);
                        }
                    });
                    
                } else {
                    log('❌ Data not loaded', 'error');
                }
            } catch (error) {
                log(`❌ Error: ${error.message}`, 'error');
            }
        });
    </script>
</body>
</html>
